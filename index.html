<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AR Erde</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@ar-js-org/ar.js@latest/aframe/build/aframe-ar.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <script defer src="script.js"></script>
    <link rel="icon" href="data:,"> <!-- Entfernt 404-Warnung für favicon.ico -->
</head>
<body>
    <a-scene embedded arjs cursor="rayOrigin: mouse" raycaster="objects: .clickable"
        gltf-model="dracoDecoderPath: https://www.gstatic.com/draco/versioned/decoders/1.5.6/;">
        
        <a-marker preset="hiro">
            <!-- 🌍 Erde (sichtbares 3D-Modell) -->
            <a-entity 
                id="earth" 
                class="clickable" 
                gltf-model="assets/earth.glb" 
                position="0 0.5 0" 
                scale="1 1 1"
                event-set__click="_event: click; _target: #choices; visible: true">
            </a-entity>

            <!-- 🚀 Auswahlmöglichkeiten (anfangs unsichtbar) -->
            <a-entity id="choices" visible="false">
                <a-entity id="mobility" class="clickable" gltf-model="assets/bike.glb" position="-2 1.5 0" scale="1 1 1"></a-entity>
                <a-entity id="food" class="clickable" gltf-model="assets/salad.glb" position="0 1 0" scale="5 5 5"></a-entity>
                <a-entity id="drink" class="clickable" gltf-model="assets/water.glb" position="2 1.2 0" scale="0.03 0.03 0.03"></a-entity>
            </a-entity>

            <!-- 📊 CO₂-Anzeige -->
            <a-entity 
                id="co2-display"
                position="0 2 0"
                text="value: CO₂-Bilanz: 0kg; align: center; color: white; width: 3">
            </a-entity>
            
            <!-- 🔄 Weiter-Button -->
            <a-entity 
                id="next-button"
                class="clickable"
                geometry="primitive: plane; width: 1; height: 0.3"
                material="color: green"
                position="1 0.5 0"
                text="value: Weiter; align: center; color: white; width: 2"
                visible="false">
            </a-entity>

            <!-- 🔙 Zurück-Button -->
            <a-entity 
                id="back-button"
                class="clickable"
                geometry="primitive: plane; width: 1; height: 0.3"
                material="color: red"
                position="-1 0.5 0"
                text="value: Zurück; align: center; color: white; width: 2"
                visible="false">
            </a-entity>
        </a-marker>

        <a-entity camera></a-entity>
    </a-scene>

    <!-- 🖱️ Unsichtbares Overlay für bessere Touch-Erkennung -->
    <div id="click-overlay"></div>
</body>
</html>
