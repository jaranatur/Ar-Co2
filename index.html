<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AR Erde</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@ar-js-org/ar.js@latest/aframe/build/aframe-ar.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aframe-physics-system@latest"></script>
    <link rel="stylesheet" href="style.css">
    <script defer src="script.js"></script>
</head>
<body>
    <a-scene embedded arjs="detectionMode: mono; matrixCodeType: 3x3; trackingMethod: best;">
        <a-marker preset="hiro">
            <!-- 🌍 Fix: Erde korrekt über dem Marker platzieren -->
            <a-entity id="earth" class="clickable" gltf-model="assets/earth.glb" 
                position="0 0.2 0" scale="0.5 0.5 0.5" 
                static-body>
            </a-entity>

            <a-entity id="hint-text" position="0 1.5 0" 
                text="value: Tippe auf die Erde zum Starten; align: center; color: white; width: 3">
            </a-entity>
            
            <!-- 🚀 Auswahlmöglichkeiten -->
            <a-entity id="choices" visible="false">
                <a-entity id="mobility" class="clickable" gltf-model="assets/bike.glb" position="-2 1.5 0" scale="1 1 1"></a-entity>
                <a-entity id="food" class="clickable" gltf-model="assets/salad.glb" position="0 1 0" scale="5 5 5"></a-entity>
                <a-entity id="drink" class="clickable" gltf-model="assets/water.glb" position="2 1.2 0" scale="0.03 0.03 0.03"></a-entity>
            </a-entity>
            
            <!-- 📊 CO₂-Anzeige -->
            <a-entity id="co2-display" position="0 2 0" 
                text="value: CO₂-Bilanz: 0kg; align: center; color: white; width: 3">
            </a-entity>
            
            <!-- 🔄 Weiter- & Zurück-Buttons -->
            <a-entity id="next-button" class="clickable" geometry="primitive: plane; width: 1; height: 0.3" 
                material="color: green" position="1 0.5 0" 
                text="value: Weiter; align: center; color: white; width: 2" visible="false">
            </a-entity>
            <a-entity id="back-button" class="clickable" geometry="primitive: plane; width: 1; height: 0.3" 
                material="color: red" position="-1 0.5 0" 
                text="value: Zurück; align: center; color: white; width: 2" visible="false">
            </a-entity>
        </a-marker>

        <a-entity camera look-controls wasd-controls>
            <a-entity cursor="rayOrigin: mouse; fuse: false;"></a-entity>
        </a-entity>
    </a-scene>
</body>
</html>
